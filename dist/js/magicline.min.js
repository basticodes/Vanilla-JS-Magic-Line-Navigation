/**
 * Vanilla JS Magic Line Navigation
 * Author: Bastian Fie√üinger
 * Version: 1.0.3
 */
var magicLine=function(){"use strict";return function t(e,n){var i,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements,(i=e)instanceof Node||i instanceof NodeList||i instanceof HTMLCollection?this.elements=e:this.elements=document.querySelectorAll(e);this.settings=function(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Array.prototype.forEach.call(n,(function(e){for(var n in e){if(!Object.prototype.hasOwnProperty.call(e,n))return;t[n]=e[n]}})),t}({navElements:"a",mode:"line",lineStrength:2,lineClass:"magic-line",wrapper:"div",animationCallback:null},n||{});var l=function(t){return t.querySelectorAll(a.settings.navElements)},r=function(t,e){Array.prototype.forEach.call(t,(function(t){t.classList.remove("active")})),e.target.classList.add("active")},s=function(t){var e=Array.prototype.filter.call(t,(function(t){return t.classList.contains("active")?t:null}));return e.length?e=e[0]:(e=t[0],r(t,{target:t[0]})),{el:e,rect:e.getBoundingClientRect()}},o=function(t,e){var n=e.target,i={el:n,rect:n.getBoundingClientRect()};u(t,i)},c=function(t,e){var n=s(e);u(t,n)},u=function(t,e,n){var i,l=e.el.offsetLeft,r=e.el.offsetTop,s=e.rect.width;"line"!==a.settings.mode?i=e.rect.height:(i=a.settings.lineStrength,r+=e.rect.height),a.settings.animationCallback&&!n?a.settings.animationCallback(t,{left:l+"px",top:r+"px",width:s+"px",height:i+"px"}):(t.style.left=l+"px",t.style.top=r+"px",t.style.width=s+"px",t.style.height=i+"px")},f=function(){Array.prototype.forEach.call(a.elements,(function(t){t.classList.add("init-magic-line","magic-line-mode-"+a.settings.mode.toLowerCase());var e=document.createElement(a.settings.wrapper);e.className="magic-line-inner";var n=document.createElement("div");for(n.className=a.settings.lineClass,null===a.settings.animationCallback&&n.classList.add("magic-line-css-transition"),t.appendChild(n);t.firstChild;)e.appendChild(t.firstChild);t.appendChild(e);var i=s(l(t));u(n,i,!0)}))},d=function(){Array.prototype.forEach.call(a.elements,(function(t){var e="."+a.settings.lineClass,n=t.querySelector(e),i=t.querySelector(".magic-line-inner"),s=l(i);Array.prototype.forEach.call(s,(function(t){t.addEventListener("click",r.bind(null,s)),t.addEventListener("mouseover",o.bind(null,n)),t.addEventListener("mouseleave",c.bind(null,n,s))})),window.addEventListener("resize",c.bind(null,n,s))}))};this.init=function(){f.call(this),d.call(this)}}}();
