/**
 * Vanilla JS Magic Line Navigation
 * Author: Bastian Fie√üinger
 * Version: 1.0.0
 */
var magicLine=function(){"use strict";return function t(e,n){var i,s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements,(i=e)instanceof Node||i instanceof NodeList||i instanceof HTMLCollection?this.elements=e:this.elements=document.querySelectorAll(e);this.settings=function(){for(var n={},t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Array.prototype.forEach.call(e,function(t){for(var e in t){if(!Object.prototype.hasOwnProperty.call(t,e))return;n[e]=t[e]}}),n}({navElements:"a",mode:"line",lineStrength:2,lineClass:"magic-line",wrapper:"div",animationCallback:null},n||{});function l(t){return t.querySelectorAll(s.settings.navElements)}function r(t,e){Array.prototype.forEach.call(t,function(t){t.classList.remove("active")}),e.target.classList.add("active")}function a(t){var e=Array.prototype.filter.call(t,function(t){return t.classList.contains("active")?t:null});return e.length?e=e[0]:(e=t[0],r(t,{target:t[0]})),{el:e,rect:e.getBoundingClientRect()}}function o(t,e){var n=a(e);u(t,n)}function c(){Array.prototype.forEach.call(s.elements,function(t){var e="."+s.settings.lineClass,n=t.querySelector(e),i=t.querySelector(".magic-line-inner"),a=l(i);Array.prototype.forEach.call(a,function(t){t.addEventListener("click",r.bind(null,a)),t.addEventListener("mouseover",function(t,e){var n=e.target,i={el:n,rect:n.getBoundingClientRect()};u(t,i)}.bind(null,n)),t.addEventListener("mouseleave",o.bind(null,n,a))}),window.addEventListener("resize",o.bind(null,n,a))})}var u=function(t,e,n){var i,a=e.el.offsetLeft,l=e.el.offsetTop,r=e.rect.width;"line"!==s.settings.mode?i=e.rect.height:(i=s.settings.lineStrength,l+=e.rect.height),s.settings.animationCallback&&!n?s.settings.animationCallback(t,{left:a+"px",top:l+"px",width:r+"px",height:i+"px"}):(t.style.left=a+"px",t.style.top=l+"px",t.style.width=r+"px",t.style.height=i+"px")};this.init=function(){(function(){Array.prototype.forEach.call(s.elements,function(t){t.classList.add("init-magic-line","magic-line-mode-"+s.settings.mode.toLowerCase());var e=document.createElement(s.settings.wrapper);e.className="magic-line-inner";var n=document.createElement("div");for(n.className=s.settings.lineClass,null===s.settings.animationCallback&&n.classList.add("magic-line-css-transition"),t.appendChild(n);t.firstChild;)e.appendChild(t.firstChild);t.appendChild(e);var i=a(l(t));u(n,i,!0)})}).call(this),c.call(this)}}}();