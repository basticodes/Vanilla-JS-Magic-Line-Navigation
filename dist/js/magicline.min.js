/**
 * Vanilla JS Magic Line Navigation
 * Author: Bastian FieÃŸinger
 * Version: 1.0.3
 */
var magicLine=function(){"use strict";return class{constructor(e,t){var i;this.elements,(i=e)instanceof Node||i instanceof NodeList||i instanceof HTMLCollection?this.elements=e:this.elements=document.querySelectorAll(e);this.settings=((...e)=>{var t={};return Array.prototype.forEach.call(e,e=>{for(var i in e){if(!Object.prototype.hasOwnProperty.call(e,i))return;t[i]=e[i]}}),t})({navElements:"a",mode:"line",lineStrength:2,lineClass:"magic-line",wrapper:"div",animationCallback:null},t||{});const l=e=>e.querySelectorAll(this.settings.navElements),s=(e,t)=>{Array.prototype.forEach.call(e,e=>{e.classList.remove("active")}),t.target.classList.add("active")},n=e=>{let t=Array.prototype.filter.call(e,e=>e.classList.contains("active")?e:null);return t.length?t=t[0]:(t=e[0],s(e,{target:e[0]})),{el:t,rect:t.getBoundingClientRect()}},a=(e,t)=>{let i=t.target;var l,s;l=i,s=this.settings.navElements,(l.matches||l.matchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.webkitMatchesSelector||l.oMatchesSelector).call(l,s)||(i=function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}(i,this.settings.navElements));const n={el:i,rect:i.getBoundingClientRect()};c(e,n)},r=(e,t)=>{const i=n(t);c(e,i)},c=(e,t,i)=>{let l,s=t.el.offsetLeft,n=t.el.offsetTop,a=t.rect.width;"line"!==this.settings.mode?l=t.rect.height:(l=this.settings.lineStrength,n+=t.rect.height),this.settings.animationCallback&&!i?this.settings.animationCallback(e,{left:s+"px",top:n+"px",width:a+"px",height:l+"px"}):(e.style.left=s+"px",e.style.top=n+"px",e.style.width=a+"px",e.style.height=l+"px")},o=()=>{Array.prototype.forEach.call(this.elements,e=>{e.classList.add("init-magic-line","magic-line-mode-"+this.settings.mode.toLowerCase());let t=document.createElement(this.settings.wrapper);t.className="magic-line-inner";let i=document.createElement("div");for(i.className=this.settings.lineClass,null===this.settings.animationCallback&&i.classList.add("magic-line-css-transition"),e.appendChild(i);e.firstChild;)t.appendChild(e.firstChild);e.appendChild(t);let s=n(l(e));c(i,s,!0)})},h=()=>{Array.prototype.forEach.call(this.elements,e=>{let t="."+this.settings.lineClass,i=e.querySelector(t),n=e.querySelector(".magic-line-inner"),c=l(n);Array.prototype.forEach.call(c,e=>{e.addEventListener("click",s.bind(null,c)),e.addEventListener("mouseover",a.bind(null,i)),e.addEventListener("mouseleave",r.bind(null,i,c))}),window.addEventListener("resize",r.bind(null,i,c))})};this.init=function(){o.call(this),h.call(this)}}}}();
